<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.min.js"></script> -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-polyfill/7.0.0/polyfill.min.js"></script> -->
    <!-- <link href="css/bootstrap.min.css" rel="stylesheet"> -->
    <link href="css/styles2.css" rel="stylesheet">
    <script src="js/chart.min.js"></script>
    <style>
        @media {{ .Media }} {
            .new-page {
                page-break-before: always !important;
            }
        
        }
        .section{
            flex-grow:1;
            padding:{{ .MY }}px {{ .MX }}px;
        }
    </style>
</head>
    <body>
        <div class="container">
            <div class="section">
                <table >
                    <tr>
                        <td width="95%" valign="top" >
                            <table  style="width:100%">
                                <tbody>
                                    <tr>
                                        <td width="10%">
                                            <img src="img/Logo-IPST-small.png" width="70px" height="90px" />
                                        </td>
                                        <td width="90%">
                                            <p class="mx-3">
                                                แบบรายงานผลคะแนนสอบรายบุคคล<span style="font-weight: bold;font-size:24px;">คณิตศาสตร์</span><br>
                                                โครงการพัฒนาอัจฉริยภาพทางวิทยาศาสตร์และคณิดศาสตร์ ประจำปีการศึกษา 2564
                                            </p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td  colspan="2">
                                            <table class="roundedCorners w-100">
                                                <tr><th colspan="2">1.ข้อมูลผู้เข้าสอบ</th></tr>
                                                <tr><td colspan="2">ชื่อ-นามสกุล</td></tr>
                                                <tr><td >เลขประจำตัวประชาชน</td><td >เลขประจำตัวผู้เข้าสอบ</td></tr>
                                                <tr><td colspan="2">ระดับชั้นประถมศึกษาปีที่ 6</td></tr>
                                                <tr><td >โรงเรียน</td><td >จังหวัด</td></tr>
                                                <tr><td colspan="2"></td></tr>
                                            </table>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </td>
                        <td width="5%" valign="top" align="right">
                            <img src="{{ .Qrcode }}" width="100px" height="110px">
                            <br/>
                            <img src="img/m-small.png" width="100px" height="110px">
                        </td>
                    </tr>
                </table>
                <table class="roundedCorners w-100">
                    <tr><th>2.สถิติของคะแนน</th></tr>
                    <tr>
                        <td  align="right">
                            <table  style="width:40%;">
                                <tbody>
                                    <tr >
                                        <td width="50%" align="right">
                                            <img src="img/r.png" width="80xp" height="90px" />
                                        </td>
                                        <td align="right" width="50%">
                                            <table  style="font-size:12px;width:100%">
                                                <tbody>
                                                    <tr>
                                                        <td align="right" style="padding:5px;">คะแนนเต็ม:</td>
                                                        <td align="right" style="padding:5px;">25.00</td>
                                                    </tr>
                                                    <tr>
                                                        <td align="right" style="padding:5px;">คะแนนที่ได้:</td>
                                                        <td align="right" style="padding:5px;">24.00</td>
                                                    </tr>
                                                    <tr >
                                                        <td align="right" style="padding:5px;">เปอร์เซ็นต์ไทล์:</td>
                                                        <td align="right" style="padding:5px;">99.00</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </td>
                    </tr>
                    <tr>
                        <td class="w-100">
                            <div style="width:900px;">
                                <canvas id="bar" ></canvas>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <table class="w-100 bordered" style="font-size:12px;text-align:center">
                                <tbody>
                                    <tr class="bg-orange">
                                        <th  colspan="4" style="text-align:center;">ค่าสถิติพื้นฐานของคะแนนของกลุ่มผู้เข้าสอบทั้งหมด</th>
                                    </tr>
                                    <tr class="bg-orange">
                                        <td >จำนวนผู้เข้าสอบทั้งหมด<br />(คน)</td>
                                        <td >คะแนน<br />ต่ำสุด - สูงสุด</td>
                                        <td >คะแนนเฉลี่ย</td>
                                        <td >ส่วนเบี่ยงเบนมาตราฐาน</td>
                                    </tr>
                                    <tr>
                                        <td>8.656</td>
                                        <td>0.00 - 24.00 </td>
                                        <td>3.41 </td>
                                        <td>3.62 </td>
                                    </tr>
                                </tbody>
                            </table>
                            
                            <table style="width:100%;padding:0px;margin-top:4px;">
                                <tbody>
                                    <tr>
                                        <td style="padding:0px;">
                                            <table class="w-100 bordered" style="font-size:12px;text-align:center">
                                                <tbody>
                                                    <tr class="bg-lightblue">
                                                        <td  colspan="4">
                                                            <b>ค่าสถิติพื้นฐานของคะแนนของกลุ่มผู้เข้าสอบทั้งหมด</b></td>
                                                    </tr>
                                                    <tr class="bg-lightblue">
                                                        <td >จำนวนผู้เข้าสอบทั้งหมด<br />(คน)</td>
                                                        <td >คะแนน<br />ต่ำสุด - สูงสุด</td>
                                                        <td >คะแนนเฉลี่ย</td>
                                                        <td >ส่วนเบี่ยงเบนมาตราฐาน</td>
                                                    </tr>
                                                    <tr>
                                                        <td>8.656</td>
                                                        <td>0.00 - 24.00 </td>
                                                        <td>3.41 </td>
                                                        <td>3.62 </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </td>
                                        <td style="padding:0px;">
                                            <table class="w-100 bordered" style="font-size:12px;text-align:center">
                                                <tbody>
                                                    <tr class="bg-lightpink">
                                                        <td  colspan="4">
                                                            <b>ค่าสถิติพื้นฐานของคะแนนของกลุ่มผู้เข้าสอบทั้งหมด</b></td>
                                                    </tr>
                                                    <tr class="bg-lightpink">
                                                        <td >จำนวนผู้เข้าสอบทั้งหมด<br />(คน)</td>
                                                        <td >คะแนน<br />ต่ำสุด - สูงสุด</td>
                                                        <td >คะแนนเฉลี่ย</td>
                                                        <td >ส่วนเบี่ยงเบนมาตราฐาน</td>
                                                    </tr>
                                                    <tr>
                                                        <td>8.656</td>
                                                        <td>0.00 - 24.00 </td>
                                                        <td>3.41 </td>
                                                        <td>3.62 </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </td>
                    </tr>
                </table>
                <div class="new-page"></div>
                <table class="roundedCorners w-100">
                    <tbody>
                        <tr><th>3.ผลการทดสอบจำแนกตามตัวชี้วัดอัจฉริยะลักษณะทางคณิตศาสตร์</th></tr>
                        <tr>
                            <td>
                                <table class="w-100 bordered" style="font-size:12px;text-align:center;">
                                    <thead>
                                        <tr>
                                            <th width="20%" class="bg-lightgreen" style="text-align:center;">ตัวชี้วัด</th>
                                            <th width="20%" class="bg-lightgreen" style="text-align:center;">จำนวนข้อทั้งหมด</th>
                                            <th width="20%" class="bg-lightgreen" style="text-align:center;">จำนวนข้อที่ตอบถูก</th>
                                            <th width="20%" class="bg-lightgreen" style="text-align:center;">ร้อยละข้อที่ตอบถูก</th>
                                            <th width="20%" class="bg-lightgreen" style="text-align:center;">ค่าเฉลี่ยของร้อยละข้อที่ตอบถูก<br>ของผู้เข้าสอบทั้งหมด</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>S1</td>
                                            <td>5</td>
                                            <td>5</td>
                                            <td>100</td>
                                            <td>17</td>
                                        </tr>
                                        <tr>
                                            <td>S2</td>
                                            <td>4</td>
                                            <td>3</td>
                                            <td>75</td>
                                            <td>8</td>
                                        </tr>
                                        <tr>
                                            <td>S3</td>
                                            <td>5</td>
                                            <td>5</td>
                                            <td>100</td>
                                            <td>9</td>
                                        </tr>
                                        <tr>
                                            <td>A1</td>
                                            <td>2</td>
                                            <td>2</td>
                                            <td>100</td>
                                            <td>22</td>
                                        </tr>
                                        <tr>
                                            <td>A2</td>
                                            <td>5</td>
                                            <td>5</td>
                                            <td>100</td>
                                            <td>10</td>
                                        </tr>
                                        <tr>
                                            <td>A3</td>
                                            <td>4</td>
                                            <td>4</td>
                                            <td>100</td>
                                            <td>20</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </td>
                        </tr>
                        <tr>
                            <td class="w-100">
                                <div style="width:960px;margin:0 auto;border:2px solid lightblue;">
                                    <canvas id="radar" width="100%"></canvas>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <table class="w-100 borderless" style="font-size:14px;">
                                    <tbody>
                                        <tr>
                                            <td colspan="2">ตัวชี้วัดอัจฉริยะลักษณะทางคณิตศาสตร์ ตามแนวทาง สสวท.</td>
                    
                                        </tr>
                                        <tr>
                                            <td>S1 คือ</td>
                                            <td>ทักษะการแก้ปัญหา (ข้อ 2,7,9,23 และ 25)</td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>เป็นความสามารถในการทำความเข้าใจปัญหา คิดวิเคราะห์ วางแผน แก้ปัญหา
                                                และเลือกใช้วิธีการที่เหมาะสม โดยคำนึงถึง</td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>ความสมเหตุสมผลของคำตอบ พร้อมทั้งตรวจสอบความถูกต้องของคำตอบ เช่น คิดย้อนกลับได้</td>
                                        </tr>
                                        <tr>
                                            <td>S2 คือ</td>
                                            <td> ทักษะการให้เหตุผล (ข้อ 3, 11, 21 และ 24)</td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>เป็นความสามารถในการให้เหตุผล เพื่อนำไปสู่การสรุป โดยมีข้อเท็จจริงทางคณิตศาสตร์รองรับ</td>
                                        </tr>
                                        <tr>
                                            <td>S3 คือ</td>
                                            <td>ทักษะการเชื่อมโยงและประยุกต์ใช้ (ข้อ 14, 15, 16, 17 และ 18)</td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>เป็นความสำมารถในการใช้ความรู้ทางคณิตศาสตร์เป็นเครื่องมือในการเรียนรู้คณิตศาสตร์เนื้อหาต่าง ๆ
                                                หรือศาสตร์อื่น ๆ</td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>และนำไปใช้ในชีวิตจริง เช่น เข้าใจเนื้อหาใหมได้เร็วและมองเห็นมิติสัมพันธ์</td>
                                        </tr>
                                        <tr>
                                            <td>A1 คือ</td>
                                            <td>พฤติกรรมความสนใจ (ข้อ 10 และ 13)</td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>เป็นพฤติกรรมที่บ่งบอกถึงความสนใจทางคณิศาสตร์ เช่น
                                                แสดงความเข้าใจเนื้อหาคณิตศาสตร์และอธิบายได้</td>
                                        </tr>
                                        <tr>
                                            <td>A2 คือ</td>
                                            <td>พฤติกรรมการนำไปใช้ (ข้อ 4, 5, 6, 8 และ 19)</td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>เป็นพฤติกรรมที่บ่งบอกถึงความสนใจทางคณิตศาสตร์และสามารถนำไปประยุกต์ใช้ได้</td>
                                        </tr>
                                        <tr>
                                            <td>A3 คือ</td>
                                            <td>พฤติกรรมการสร้างองค์ความรู้ (ข้อ 1, 12, 20 และ 22)</td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>เป็นพฤติกรรมที่บ่งบอกความสามารถในการนำข้อมูลที่มีมาสร้างสรรค์ให้เกิดเป็นองค์ความรู้ใหม่</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
        
    </body>
    <script>
        'use strict';
        (function (setLineDash) {
            CanvasRenderingContext2D.prototype.setLineDash = function () {
                if (!arguments[0].length) {
                    arguments[0] = [1, 0];
                }
                // Now, call the original method
                return setLineDash.apply(this, arguments);
            };
        })(CanvasRenderingContext2D.prototype.setLineDash);
        Function.prototype.bind = Function.prototype.bind || function (thisp) {
            var fn = this;
            return function () {
                return fn.apply(thisp, arguments);
            };
        };
        function genBar1(){
            new Chart(document.getElementById("bar"), {
                type: 'bar',
                data: {
                    labels: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25],
                    datasets: [
                        {
                            label: "Population (millions)",
                            backgroundColor: "#3e95cd",
                            data: [1458, 1848, 1473, 911, 661, 441, 410, 309, 254, 219, 164, 130, 95, 81, 45, 46, 49, 28, 9, 9, 8, 4, 2, 1, 1, 0]
                        }
                    ]
                },
                options: {

                    "hover": {
                        "animationDuration": 0
                    },
                    "animation": {
                        "duration": 1,
                        "onComplete": function () {
                            var chartInstance = this.chart,
                            ctx = chartInstance.ctx;

                            ctx.font = Chart.helpers.fontString(Chart.defaults.global.defaultFontSize, Chart.defaults.global.defaultFontStyle, Chart.defaults.global.defaultFontFamily);
                            ctx.textAlign = 'center';
                            ctx.textBaseline = 'bottom';

                            this.data.datasets.forEach(function (dataset, i) {
                                var meta = chartInstance.controller.getDatasetMeta(i);
                                meta.data.forEach(function (bar, index) {
                                    var data = dataset.data[index];
                                    ctx.fillText(data, bar._model.x, bar._model.y - 5);
                                });
                            });
                        }
                    },
                    legend: { display: false },
                    title: {
                        display: true,
                        text: 'คะแนน',
                        position: 'bottom',
                        align: 'center',
                    },
                    scales: {
                        xAxes: [{
                            gridLines: {
                                display: false
                            }
                        }],
                        yAxes: [
                            {
                                ticks: {
                                    max: 3000,
                                    display: true,
                                    beginAtZero: true,
                                    stepSize: 500,
                                }
                            }
                        ]
                    }
                
                },
                plugins: [{
                        id: "backgrounds",
                        afterDatasetDraw: function (chart, options) {
                            var actualIcon = new Image();
                            actualIcon.src = 'img/m.png';
                            actualIcon.width='10%';
                            actualIcon.height='10%';
                            var ca=chart.chartArea;
                            var meta = chart.getDatasetMeta(0);
                            var x = meta.data[24]._model.x-15;
                            var y = ca.top;   
                            actualIcon.onload = function(){
                                chart.ctx.drawImage(actualIcon, x,y ,30,30);
                            }
                        }
                        
                }]      
            });
        }
        function genRadar1(){
            new Chart(document.getElementById("radar"), {
                type: 'radar',
                data:  {
                    labels: ['S2', 'S3', 'A1', 'A2', 'A3', 'S1'],
                    datasets: [
                        {
                            data: [75, 100, 100, 100, 100, 100],
                            fill: false,
                            borderColor: 'blue',
                            label: 'ร้อยละข้อที่ตอบถูก',
                            //backgroundColor:'rgba(245, 40, 145, 0.8)',
                            borderWidth: 1.01,
                        },
                        {
                            data: [8, 9, 17, 22, 10, 20],
                            fill: false,
                            label: 'ค่าเฉลี่ยของร้อยละข้อที่ตอบถูกของผู้เข้าสอบทั้งหมด',
                            borderWidth: 1,
                            borderColor: 'orange',
                            borderDash: [1],
                            borderDashOffset: 0.2,

                        },
                    ]
                },
                
                options: {
                    
                    scale: {

                        display: true,
                        ticks: {
                            suggestedMin: 20,
                            suggestedMax: 100,
                            stepSize: 20,
                        }
                    },
                    
                    legend: {
                        
                        labels: {
                            // This more specific font property overrides the global property
                            fontColor: 'black',
                            fontSize: 16,
                            boxWidth: 15,
                            
                        },
                        position: "right",
                        align: "middle",
                        display: true,
                    },
                    
                    
                    title: {
                        display: true,
                        position: 'top',
                        text: 'ร้อยละของข้อที่ตอบถูกจำแนกตามตัวชี้วัดอัจฉริยะลักษณะทางคณิตศาสตร์',
                        fontSize: 16,
                    },
                    layout: {
                        padding: {
                            left: 0,
                            right: 20,
                            top: 0,
                            bottom: 0
                        }
                    }
                },
                
            });
        }
        window.onload=function(){
            genBar1();
            genRadar1();
        }
    </script>
</html>